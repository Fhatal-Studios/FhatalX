<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
  <title>FhatalX - Analytics Dashboard</title>

  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-x-32.png">

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            brand: { dark: '#050b14', primary: '#6366f1', secondary: '#a855f7', accent: '#06b6d4' }
          },
          fontFamily: { sans: ['Inter', 'sans-serif'] }
        }
      }
    }
  </script>

  <!-- Custom CSS -->
  <link rel="stylesheet" href="assets/css/style.css">

  <!-- Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>
</head>

<body class="antialiased min-h-screen flex flex-col overflow-x-hidden">

  <!-- Loading Overlay -->
  <div id="loadingOverlay"
    class="fixed inset-0 z-50 flex items-center justify-center bg-[#050b14] transition-opacity duration-500">
    <div class="text-center">
      <img src="logo.png"
        class="w-24 h-24 rounded-2xl mx-auto mb-4 shadow-[0_0_40px_rgba(99,102,241,0.3)] animate-pulse">
      <div class="w-48 h-1 bg-slate-800 rounded-full mx-auto overflow-hidden">
        <div class="h-full bg-indigo-500 animate-progress origin-left" style="width: 50%"></div>
      </div>
      <div class="mt-2 text-xs text-slate-500 font-mono">INITIALIZING DATA STREAMS</div>
    </div>
  </div>

  <!-- Header -->
  <header class="fixed top-0 w-full z-40 glass border-b border-slate-800/50">
    <div class="max-w-screen-2xl mx-auto px-4 sm:px-6">
      <div class="flex justify-between items-center h-16">
        <!-- Logo -->
        <div class="flex items-center gap-4">
          <a href="index.html" class="flex items-center gap-2 group">
            <img src="logo.png" alt="FhatalX"
              class="h-9 w-auto rounded-lg transition-transform group-hover:scale-105" />
          </a>

          <!-- Quick Nav -->
          <nav class="hidden md:flex ml-4 space-x-1 pl-4 border-l border-slate-800">
            <a href="index.html"
              class="px-3 py-1.5 rounded-md text-sm font-medium text-slate-400 hover:text-white hover:bg-slate-800/50 transition-all">Home</a>
            <a href="analytics.html"
              class="px-3 py-1.5 rounded-md text-sm font-medium text-white bg-slate-800/80 transition-all">Analytics</a>
          </nav>
        </div>

        <!-- Controls -->
        <div class="flex items-center gap-2 sm:gap-3">
          <div class="relative hidden sm:block">
            <input id="search" type="text" placeholder="Search (e.g. SOL)..."
              class="bg-slate-900/50 border border-slate-700 rounded-lg py-1.5 px-3 pl-9 text-xs sm:text-sm text-white focus:outline-none focus:border-indigo-500 w-40 sm:w-64 transition-all">
            <i data-lucide="search" class="absolute left-2.5 top-2 w-4 h-4 text-slate-500"></i>
          </div>

          <select id="fiat"
            class="bg-slate-900/50 border border-slate-700 rounded-lg py-1.5 px-2 text-xs sm:text-sm text-white focus:outline-none focus:border-indigo-500 cursor-pointer">
            <option value="usd">USD</option>
            <option value="eur">EUR</option>
          </select>

          <button id="refresh" class="btn-ghost p-2 rounded-lg relative overflow-hidden group">
            <i data-lucide="refresh-cw"
              class="w-4 h-4 text-slate-300 group-hover:text-white transition-colors animate-spin hidden"></i>
            <i data-lucide="refresh-cw" class="w-4 h-4 text-slate-300 group-hover:text-white transition-colors"></i>
          </button>

          <!-- Mobile Menu Button -->
          <button id="mobile-menu-btn" class="md:hidden btn-ghost p-2 rounded-lg">
            <i data-lucide="menu" class="w-5 h-5"></i>
          </button>
        </div>
      </div>
    </div>

    <!-- Mobile Menu (Placeholder linked to main.js) -->
    <div class="md:hidden" id="mobile-menu">
      <div class="px-4 py-3 space-y-2">
        <input type="text" placeholder="Search coins..."
          class="w-full bg-slate-900/50 border border-slate-700 rounded-lg py-2 px-3 text-sm text-white mb-3">
        <a href="index.html" class="block text-slate-300 py-2">Home</a>
        <a href="analytics.html" class="block text-white font-bold py-2">Analytics Dashboard</a>
        <a href="terms.html" class="block text-slate-300 py-2">Terms</a>
      </div>
    </div>
  </header>

  <main class="flex-grow pt-20 pb-12 px-2 sm:px-4">
    <div class="max-w-screen-2xl mx-auto space-y-6">

      <!-- Snapshot Row -->
      <section id="snapshot" class="grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-4"></section>

      <!-- Favorites (Dynamic) -->
      <section id="favoritesSection" class="hidden animate-fade-in">
        <div class="flex items-center gap-2 mb-3 px-1">
          <i data-lucide="star" class="w-4 h-4 text-yellow-400 fill-current"></i>
          <h2 class="text-sm font-bold text-slate-200 uppercase tracking-wide">Watchlist</h2>
        </div>
        <div id="favorites" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-3"></div>
      </section>

      <div class="grid grid-cols-1 lg:grid-cols-12 gap-6">

        <!-- Main Column (Movers & Charts) -->
        <div class="lg:col-span-8 space-y-6">
          <!-- Heuristics Ideas -->
          <section>
            <div class="flex items-center gap-2 mb-3 px-1">
              <i data-lucide="zap" class="w-4 h-4 text-indigo-400"></i>
              <h2 class="text-sm font-bold text-slate-200 uppercase tracking-wide">Heuristic Signals</h2>
            </div>
            <div id="ideas" class="grid grid-cols-1 md:grid-cols-3 gap-4"></div>
            <div class="mt-2 text-[10px] text-slate-500 text-center">
              *Automated heuristics based on volatility, RSI proxies, and volume. Not financial advice.
            </div>
          </section>

          <!-- Market Movers -->
          <section class="glass-card p-1 rounded-xl">
            <div class="p-4 border-b border-slate-700/50 flex justify-between items-center">
              <h2 class="text-base font-bold text-white flex items-center gap-2">
                <i data-lucide="activity" class="w-4 h-4 text-emerald-400"></i>
                Market Movers
              </h2>
              <span id="moversNote" class="text-xs text-slate-500 font-mono">Loading...</span>
            </div>
            <div id="movers" class="grid md:grid-cols-2 gap-0 md:gap-4 p-4 divide-y md:divide-y-0 divide-slate-800">
            </div>
          </section>
        </div>

        <!-- Side Column (News & Trending) -->
        <div class="lg:col-span-4 space-y-6">

          <!-- Trending -->
          <section class="glass-card p-4 rounded-xl">
            <div class="flex items-center justify-between mb-4">
              <h2 class="text-base font-bold text-white flex items-center gap-2">
                <i data-lucide="trending-up" class="w-4 h-4 text-orange-400"></i>
                Trending
              </h2>
              <span id="trendingNote" class="text-xs text-slate-500"></span>
            </div>
            <div id="trending" class="space-y-3"></div>
          </section>

          <!-- News -->
          <section class="glass-card p-4 rounded-xl">
            <div class="flex items-center justify-between mb-4">
              <h2 class="text-base font-bold text-white flex items-center gap-2">
                <i data-lucide="newspaper" class="w-4 h-4 text-slate-300"></i>
                Latest News
              </h2>
            </div>
            <div id="news" class="space-y-2 max-h-[500px] overflow-y-auto pr-1 custom-scrollbar"></div>
          </section>
        </div>

      </div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="border-t border-slate-800/50 bg-slate-900/50 mt-auto">
    <div
      class="max-w-7xl mx-auto py-6 px-4 flex flex-col md:flex-row justify-between items-center gap-4 text-xs text-slate-500">
      <div>
        &copy; <span id="year">2026</span> Fhatal Studios. Data by CoinGecko & Binance.
      </div>
      <div class="flex gap-4">
        <button id="link-manage-cookies" class="hover:text-white transition-colors">Manage Cookies</button>
        <a href="terms.html" class="hover:text-white transition-colors">Terms</a>
      </div>
    </div>
  </footer>

  <!-- Global Assets -->
  <div id="cookie-banner"
    class="fixed bottom-0 left-0 right-0 z-[100] transform translate-y-full transition-transform duration-300">
    <div class="max-w-7xl mx-auto p-4">
      <div
        class="glass-card p-4 sm:p-5 rounded-xl border-t border-indigo-500/30 shadow-2xl flex flex-col sm:flex-row items-center justify-between gap-4">
        <div class="text-sm text-slate-300 flex-1">
          <p class="font-semibold text-white mb-1">We value your privacy</p>
          <p>We use cookies to enhance your experience and analyze traffic. Essential cookies are always on.</p>
        </div>
        <div class="flex gap-3 shrink-0">
          <button id="btn-reject-all" class="btn-ghost px-4 py-2 rounded-lg text-xs font-semibold">Reject
            Optional</button>
          <button id="btn-customize" class="btn-ghost px-4 py-2 rounded-lg text-xs font-semibold">Customize</button>
          <button id="btn-accept-all" class="btn-primary px-4 py-2 rounded-lg text-xs font-semibold">Accept All</button>
        </div>
      </div>
    </div>
  </div>

  <div id="cookie-preferences-modal"
    class="hidden fixed inset-0 z-[110] bg-black/80 backdrop-blur-sm items-center justify-center p-4">
    <div class="bg-slate-900 border border-slate-700 w-full max-w-lg rounded-2xl shadow-2xl overflow-hidden glass-card">
      <div class="p-6 border-b border-slate-700">
        <h3 class="text-xl font-bold text-white">Cookie Preferences</h3>
        <p class="text-slate-400 text-sm mt-1">Manage your consent settings.</p>
      </div>
      <div class="p-6 space-y-4">
        <div class="flex items-start justify-between">
          <div>
            <h4 class="text-base font-semibold text-white">Necessary</h4>
            <p class="text-xs text-slate-400 max-w-[250px]">Required for the site to function.</p>
          </div>
          <div><input type="checkbox" checked disabled
              class="w-5 h-5 rounded border-slate-600 bg-indigo-500 opacity-50"></div>
        </div>
        <div class="flex items-start justify-between">
          <div>
            <h4 class="text-base font-semibold text-white">Analytics</h4>
            <p class="text-xs text-slate-400 max-w-[250px]">Help us improve by understanding how you use the site.</p>
          </div>
          <div><input type="checkbox" id="chk-analytics" name="consent-type" value="analytics"
              class="w-5 h-5 rounded border-slate-600 bg-slate-700 text-indigo-500"></div>
        </div>
      </div>
      <div class="p-4 bg-black/20 flex justify-end gap-3">
        <button id="btn-close-modal" class="btn-ghost px-4 py-2 rounded-lg text-sm">Cancel</button>
        <button id="btn-save-preferences" class="btn-primary px-4 py-2 rounded-lg text-sm">Save Preferences</button>
      </div>
    </div>
  </div>

  <!-- Init -->
  <script>
    lucide.createIcons();
  </script>
  <script src="assets/js/main.js"></script>
  <script src="assets/js/analytics.js"></script>
</body>

</html>